{% macro render_sidebar(nav_active="") -%}
<aside class="sidebar" data-sidebar>
  <div class="sidebar__header">
    <a href="/" class="sidebar__brand">
      <div class="sidebar__logo">S</div>
      <span class="sidebar__title">SAP Data Portal</span>
    </a>
    <button type="button" class="sidebar__toggle" aria-label="사이드바 접기" aria-expanded="true" data-sidebar-toggle>
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="m15 18-6-6 6-6" />
      </svg>
    </button>
  </div>

  <div class="nav-group">
    <div class="nav-label">Menu</div>
    <a class="nav-link {% if nav_active == 'search' %}active{% endif %}" href="{{ url_for('search.index') }}"
      aria-label="검색">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="11" cy="11" r="8" />
        <path d="m21 21-4.3-4.3" />
      </svg>
      <span class="nav-link__text">검색</span>
    </a>
  </div>

  {% set dashboard_active = nav_active in ['dashboard_main', 'dashboard_electric', 'dashboard_mechanical',
  'dashboard_meter', 'dashboard_instrument'] %}
  <div class="nav-group nav-group--dashboard">
    <div class="nav-label">Dashboard</div>
    <a class="nav-link nav-link--parent {% if dashboard_active %}active{% endif %}"
      href="{{ url_for('dashboard.dashboard_page') }}" aria-label="대시보드 메인">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <rect width="7" height="9" x="3" y="3" rx="1" />
        <rect width="7" height="5" x="14" y="3" rx="1" />
        <rect width="7" height="9" x="14" y="12" rx="1" />
        <rect width="7" height="5" x="3" y="16" rx="1" />
      </svg>
      <span class="nav-link__text">대시보드 메인</span>
    </a>
    <div class="nav-children">
      <a class="nav-link nav-link--child {% if nav_active == 'dashboard_electric' %}active{% endif %}"
        href="{{ url_for('dashboard.dashboard_view', view='electric') }}" aria-label="전기반">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2" />
        </svg>
        <span class="nav-link__text">전기반</span>
      </a>
      <a class="nav-link nav-link--child {% if nav_active == 'dashboard_mechanical' %}active{% endif %}"
        href="{{ url_for('dashboard.dashboard_view', view='mechanical') }}" aria-label="기계반">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path
            d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z" />
        </svg>
        <span class="nav-link__text">기계반</span>
      </a>
      <a class="nav-link nav-link--child {% if nav_active == 'dashboard_meter' %}active{% endif %}"
        href="{{ url_for('dashboard.dashboard_view', view='meter') }}" aria-label="계기반">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="m12 14 4-4" />
          <path d="M3.34 19a10 10 0 1 1 17.32 0" />
        </svg>
        <span class="nav-link__text">계기반</span>
      </a>
      <a class="nav-link nav-link--child {% if nav_active == 'dashboard_instrument' %}active{% endif %}"
        href="{{ url_for('dashboard.dashboard_view', view='instrument') }}" aria-label="장치반">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M22 12h-4l-3 9L9 3l-3 9H2" />
        </svg>
        <span class="nav-link__text">장치반</span>
      </a>
    </div>
  </div>
</aside>
{%- endmacro %}